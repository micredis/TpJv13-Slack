Grigory Kislin [2:39 PM]
joined #random along with 19 others.

Tanya [12:33 AM]
уже 52 участника набралось, есть новенькие?

Grigory Kislin [3:46 PM]
@Tanya проверил, 5 чел. Скоро начнем набор и будут прибывать

Bogdan [6:24 PM]
Т.е. примерно 50 чел пришли на повтор?

Max Karavaev [2:58 PM]
Всем привет!
Пришел на повтор на свой страх и риск, не уверен, что со временем напрягов не будет )

Valery.Shkerdin [10:08 AM]
Всем новичкам салют, размышляю тут, а вы пагинацию, во вступительном тестовом задании, с помощью PagedListHolder реализовывали? Кто как вобщем?

saudabaew [4 hours ago]
Привет! Да, я использовал PagedListHolder. Все работает и решение приняли, но знакомый программист прокомментировал, что в идеале пагинация должна разгружать базу данных: 
"допустим у тебя в базе 100 000 000 книг.
на странице ты хочешь показать только 30 из них, ну и ссылочки на другие страницы
поэтому вместо того, чтобы тянуть с базы 100 000 000 книг, а потом брать из них первые 30 и отдавать во вьюху (примерно так, как сделано у тебя) - было бы лучше вытягивать сразу нужные 30 из базы))". Взял на заметку...



Valery.Shkerdin [3 hours ago]
Вооот, этот вопрос я и изучаю, для нагруженный проектов это ой как важно.


Fedor Vershinin [3 hours ago]
Я на тот момент про спринг мало знал, поэтому сам в репозитории реализовывал загрузку нужного количества записей


Max Karavaev [3 hours ago]
Я делал прям на вьюхе - кнопки предыдущей страницы, следующей страницы, и между ними список страниц со ссылками на них при помощи цикла c:forEach.
А, ну да, в бэке использовал PagedListHolder ))
Забыл уже, давно это было. (edited)


Igor Ivanov [1 hour ago]
Я вообще не морочился с этим и сделал через javascript - datatables. Там можно указать сколько строк на странице. Этот вариант не подходит если много книг, но мы решали конкретную задачу... (edited)

Pavel Zaitcev [2 days ago]
Добрый день. Используя hibernate в запросе оперировать методами SetFirstResult()/SetMaxResult(). Сдвигать эти значения (точнее значение - так как второе, размер страницы - постоянное) в зависимости от страницы.


Nail [1 day ago]
PageRequest и PaggingAndSortingRepository

saudabaew [1:35 PM]
Кто может пояснить пятое замечание к HW0:
5: При реализации через Stream заменяйте forEach оператором stream.map(..)
Почему правильнее использовать map?


Grigory Kislin [3:01 PM]
@saudabaew
map- в функциональном стиле- перобразование одной коллекции в другую (в цистом функциональном стиле она будет неизменяемой)
forEach - тут результат выглядит как побочный эффект операции над стримом. иногда по другому не получается, но когда логически у тебя преобразование стима- map предпочтительнее (edited)



Евгений Глушков [7:01 PM]
Привет, я пейджинг вообще руками делал, с нуля.
не было времени разбираться с готовыми реализациями, если у кого-нибудь есть хороший источник про пейджинг киньте линк пожалуйста.

mrLanu [7:09 PM]
Забей в Гугл - bootstrap DataTables. Там в проект нужно css и js подтянуть и применить к таблице по ID.

mrLanu [7:14 PM]
Или через интерфейс JpaRepository, его реализация не нужна и в нем есть метод findAll(Pagable p)

Vasyl Malik [10:52 AM]
Или в запросе с фрона передавать offset и limit, и при запросу к БД учитывать эти параметры

Yevhen Maksymovych [10:55 AM]
я делал через ваадин, там есть специальный компонент для пейджинга
https://vaadin.com/directory/component/pagination - там в code samples есть простенькие примеры
Vaadin
Pagination | Vaadin Directory | Vaadin
Pagination Add-on for Vaadin
https://vaadin.com/images/directory/addon-icon-default.png

goodhoopoe [11:55 AM]
там вся пагинация пишется в 10-15 строк голого кода. зачем усложнять?:) (edited)

zzzadruga [1:57 PM]
Друзья, те кто с МСК, никто, случаем, не подавал заявки в Java школы Сбертеха / КРОКа?


Евгений Глушков [8:10 PM]
@Yevhen Maksymovych спасибо


pro [12:19 PM]
ни у кого случаем рав4 не захлопывался с ключами внутри?

Dmitry Neustupov [12:41 PM]
@pro молоток тебе в помощь ) или спецов вызывай, которые авто вскрывают, если второго комплекта нет.

pro [1:14 PM]
все три комплекта там


Dmitry Neustupov [1:29 PM]
@pro сочувствую (


AntonY [1:45 PM]
@pro В любом сервис центре ребята открывают машины на раз. Прогуляйся до ближайших гаражей.

pro [2:15 PM]
спасибо огромное, все норм, пришел знакомый открыл даже не видел как, говорит пять минут делов, заходит уже такой с ключами в руках, говорит: не ваши случайно))

Dmitry Neustupov [2:20 PM]
@pro главное, чтобы знакомый в следующий раз без твоего ведома так же не открыл ))

aleksey [12:30 AM]
Коллеги, а тут случаем не затесался инженер-электронщик?

aleksey [1:02 AM]
set the channel topic: Non-work banter and water cooler conversation.


Valery.Shkerdin [10:54 AM]
Народ, кто нибудь может читал, стандарты какие либо, почему именно так принято прописывать пользователей в базе, и их роли, мне интересны первоисточники любые.  Я имею ввиду пользователей какого либо веб сервиса. (edited)

Nail [11:15 AM]
Spring security смотрел уже?

Artem Murk [11:16 AM]
@Valery.Shkerdin сейчас смотрю лекции по JPA. ТППС, лекция 10 JPA. В ней он с середины немного Рассказывает о паттерны проектирования БД. Возможно это натолкнёт на мысли как будет лучше в вашем случае.

Oleksii Leshchenko [5 hours ago]
А что за лекции?


Artem Murk [5 hours ago]
Очень классный курс лекций по Enterprise технологиям. Я правда начал не с первой лекции, а с 9-ой(JPA) Хорошо все разжевано в несколько частей по часу на каждую лекцию. Будет время рекомендую к просмотру.


Artem Murk [5 hours ago]
@Oleksii Leshchenko


Oleksii Leshchenko [5 hours ago]
@Artem Murk, а можно ссылку кинуть? :slightly_smiling_face:


Artem Murk [5 hours ago]
https://m.youtube.com/watch?v=fKO6kbTUEuo
YouTube Онлайн уроки по Java
ТППС. Лекция 10. JPA. Связи и наследование


Valery.Shkerdin [11:24 AM]
@Nail да, мне интересно откуда ноги растут (edited)
@Artem Murk смотрел уже.

Dmitriy Kozin [12:28 PM]
Коллеги, кто-нибудь сталкивался с задачей разработки SaaS при котором у каждого клиента (у каждой компании) собственный поддомен и своя отдельная БД (при этом создавать отдельные виртуальные машины накладно с точки зрения обновления системы)? Какая архитектура такого решения?

Yevhen Maksymovych [12:59 PM]
мне этот вопрос в контексте данной слаки напоминает известную картинку "как рисовать сову"

Dmitriy Kozin [1:11 PM]
Ну мало ли.. (вдруг @Grigory Kislin заглянет) :grin:


Dmitriy Kozin [4:44 PM]
Ответ на мой вопрос тоже оказался в духе картинки с совой: правильное решение - использовать Hibernate Multi-tenancy...

Grigory Kislin [4:58 PM]
@Dmitriy Kozin вопрос скорее по администрированию/развертыванию/devop... увы не подскажу

pro [6:23 PM]
set the channel purpose: Если бы StreamAPI была девушкой, я бы, наверное, влюбился

aleksey [6:31 PM]
Что-то меня бы беспокоила её многопоточность.
pro
@pro set the channel purpose: Если бы StreamAPI была девушкой, я бы, наверное, влюбился

Dmitriy Kozin [10:18 AM]
Другой интересный вопрос - вброс. Spring Data имеет собственную реализацию JPA или работает со сторонними (Hibernate, OpenJPA)?

Yevhen Maksymovych [10:22 AM]
ну, если говорить о спринг дата, то внутри spring-boot-starter-data-jpa сидит хибернейт

Grigory Kislin [12:45 PM]
Spring Data это просто надстройка над JPA. а JPA - спецификация orm. на 4-м занятии все разберем (edited)


Yevhen Maksymovych [4:31 PM]
ребят, помогите, как десериализовать LocalDateTime из json'а?

goodhoopoe [4:32 PM]
а в чем проблема? или ты в целом ищешь пример как кто делает?*

Yevhen Maksymovych [4:33 PM]
у меня вот какая ошибка выпадает: Cannot construct instance of `java.time.LocalDateTime` (no Creators, like default construct, exist)
пишут, что надо добавить депендю jackson-datatype-jsr310
но у меня хоть с ней, хоть без нее ошибка падает
не хочется делать кастомный маппер, если эта штука как-то нативно может работаь
пишут, что ещё надо добавить аннотацию к дате
@DateTimeFormat(iso = DateTimeFormatter.ISO_LOCAL_DATE_TIME)
но у меня с такой не компилится, ругается, что attribute value must be constant


goodhoopoe [4:41 PM]
да, я тоже нагуглил, что-то типа что аннотации спасут, но я кривоглазый, не сразу увидел, что ты про localdatetime

Yevhen Maksymovych [4:43 PM]
поменял LocalDateTime на простой Date - проканало всё, но осадочек остался


Yevhen Maksymovych [4:51 PM]
о, разобрался
вопрос снят :slightly_smiling_face:
@JsonDeserialize(using = LocalDateTimeDeserializer.class)
и депендя jackson-datatype-jdk8


Grigory Kislin [1:04 PM]
json с аннотациями мы позже будем прикручивать
счас просто формой+post делаем (edited)

Vladimir [9:51 PM]
uploaded this image: Чуточка флуда 


Хэм [10:59 AM]
ребят вы лучше скажите что такое маски в JAVA?
или в общем в прошраммирвании
*программировании

Dmitriy Kozin [11:13 AM]
Есть понятие битовой маски.
Смысл в том, что 00001111 маскирует первые 4 бита. Т.е. при входе, например 10110111, выход будет 00000111. Первые биты "замаскируются"..

dustnfox [11:16 AM]
Лучше чем что? А вообще, немного контекста вопросу бы не помешало. Битовые - это одно, но может что-то другое имелось в виду.
Хэм
ребят вы лучше скажите что такое маски в JAVA?

Dmitriy Kozin [11:19 AM]
Можно сказать что а Java используются битовые маски - например в HashMap. Там маскирутся первые биты хэша, для определения в какую корзину положить элемент..

dustnfox [11:19 AM]
@Dmitriy Kozin Дим, я думаю, что если руками писать, то выйдет очень муторно. Проще наверное ссылку на какой-нибудь ресурс поискать. А там уже автору вопроса спрашивать, что конкретно будет непонятно. Ибо тут плясать нужно от самого начала - битовых операций AND OR XOR и т.д.
Dmitriy Kozin
Смысл в том, что 00001111 маскирует первые 4 бита. Т.е. при входе, например 10110111, выход будет 00000111. Первые биты "замаскируются"..

Хэм [11:23 AM]
можете объяснить что это такое?
//check for flush
       Long fMask = 0L;
       int sameColor = 0;
       while (true) {
           fMask = h & 0xFFFF000000000000L;
           sameColor = Long.bitCount(fMask);
           if(sameColor >= 5) {
               vMask = vmF;
               break;
           }
           fMask = h & 0x0000FFFF00000000L;
           sameColor = Long.bitCount(fMask);
           if(sameColor >= 5) {
               vMask = vmF;
               break;
           }
           fMask = h & 0x00000000FFFF0000L;
           sameColor = Long.bitCount(fMask);
           if(sameColor >= 5) {
               vMask = vmF;
               break;
           }
           fMask = h & 0x000000000000FFFFL;
           sameColor = Long.bitCount(fMask);
           if(sameColor >= 5) {
               vMask = vmF;
               break;
           }
           break;
       }
ой как глупо тут вставлять этот франментик кода ведь не ясно де что откуда взялось
если интересно скину весь кож
код

Dmitry Makarov [11:32 AM]
еще бы понять что означают разряды в long литералах
может это RGB и прозрачность?
https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D1%8A%D1%8E%D0%BD%D0%BA%D1%86%D0%B8%D1%8F
Wikipedia
Конъюнкция
Конъю́нкция (от лат. conjunctio ‘союз, связь’) — логическая операция, по смыслу максимально приближенная к союзу «и». Синонимы: логи́ческое «И», логи́ческое умноже́ние, иногда просто «И».
Конъюнкция может быть бинарной операцией (т. e. иметь два операнда), тернарной операцией (т. e. иметь три операнда), или n-арной операцией (т. e. иметь n операндов).

dustnfox [11:35 AM]
Этот кусок проверяет в `h` каждые два байта (начиная со старших и вниз) и считает в каждом количество единий в двоичном представлении этих двух байт, если единиц больше четырех то `vMask = vmF;` Каково значение всех эти манпуляций мне непонятно. Названия переменных - адовые. fMask по факту использования маской не является. В цикле нет смысла, как и во всем коде ибо независимо от того, в каких двух байтах нашлись искомые единицы - делается одно и то же

Dmitriy Kozin [11:37 AM]
Видимо здесь проверяется какое то совпадение цвета из палитры CMYK или RGBA или насколько сочетаются цвета.

dustnfox [11:52 AM]
Если не ошибаюсь, то весь этот дикий кусок можно заменить на это:
```for (long mask = 0xffff_0000_0000_0000L; mask != 0; mask = mask >>> 16) {
    if (Long.bitCount(h & mask) > 4) {
        vMask = vmf;
        break;
    }
}
```
При условии, что `fMask` и `sameColor` дальше не нужны. Если нужны, то соответственно добавить выше `if`

Хэм [11:53 AM]
да правильно мыслите, по идее идет проверка на комбинацию из покера (проверка на цвет карт flush), я сделал анализатор со всякими мапами и листами но программа считает но оооочень долго потом нашел в инете вот это

Хэм [11:58 AM]
чтобы понимать все это я должен понимать битовые операции в java?

aleksey [12:00 PM]
Ну... Это вообще для программиста обязательный навык

Dmitriy Kozin [12:03 PM]
@Хэм Если ты решил написать программу для подсчета вероятности выигрыша в электронном казино - то это бесполезно. Они за этим следят. И скорей всего кроме тебя все остальные игроки за столом - это казино.

dustnfox [12 hours ago]
Это бесполезно по поределению, если не надеяться на ошибки реализации. Теория вероятностей очень точная наука и никто еще на продолжительной честной(!) игре не ушел в плюсе из-за стола с отбалансированной рулеткой. ТВ рано или поздно расставляет все по своим местам.


aleksey [12 hours ago]
Кроме одного умника, который знал закон больших чисел (edited)


aleksey [12 hours ago]
А ну да, после их стали тщательнее балансировать


Dmitriy Kozin [12 hours ago]
Ну бывает, что в электронном казино ты типа играешь с другими. И там знание ТВ типа помогает выиграть. Ты можешь точно определить вероятность того что на руках у кого-то комбинация выше чем у тебя и соотнести эту вероятность со ставкой.


Dmitriy Kozin [12 hours ago]
Но шансы резко падают, если ко-то например, играет "за двоих" т.е. видит больше карт..


dustnfox [12 hours ago]
Я понимаю о чем ты говоришь. Я только о том, что в конечном итоге  это все бесполезно. Таким образом (подсчетом вероятностей) можно увеличить свои шансы выиграть. Но сделать так, чтобы у тебя был устойчивый плюс относительно самого казино , все равно не получится. Ну и плюс конечно то, что ты упомянул  в экектронном казинЕ могут играть и за двоих и за троих. Тут уж совсем беда.
